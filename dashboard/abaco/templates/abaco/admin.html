{% extends 'base.html' %}

{% block activetab %}
<div class="container">
    <ul class="nav nav-tabs">
        <li><a data-toggle="tab" href="reactors">Reactors</a></li>
        <li><a data-toggle="tab" href="register">Register</a></li>
        <li><a data-toggle="tab" href="run">Run</a></li>
        <li><a data-toggle="tab" href="help">Help</a></li>
{% if admin %}
        <li class="active"><a data-toggle="tab" href="admin">Admin</a></li>
{% endif %}
        {% endblock %}

        {% block body %}
        <!-- Admin Tab -->
        {% block header %}
        <h1>All Registered Abaco Actors</h1>
        {% endblock %}
        {% block headersum %}
        {% endblock %}
        {% if error %}
        <div class="error">
            <p>There was an error: {{ error }}</p>
        </div>
        {% endif %}
            {% if actors %}
            <div id="actors">
                <table id="actorsTable" style="width:100%">
                    <thead>
                        <tr>
                            <th>Tenant</th>
                            <th>Actor ID</th>
                            <th>Actor Name</th>
                            <th>Image</th>
                            <th>Owner</th>
                            <th>Actor Status</th>
                            <th>Pending Messages</th>
                            <th>Total Executions</th>
                            <th>Total Runtime</th>
                            <th>Create Time</th>
                            <th>Last Update Time</th>
                            <th>Worker ID</th>
                            <th>Last Execution Time</th>
                            <th>Last Health Check</th>
                            <th>Worker Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for actor in actors %}
                        <tr>
                            <td>{{ actor.tenant }}</td>
                            <td>{{ actor.id }}</td>
                            <td>{{ actor.name }}</td>
                            <td>{{ actor.image }}</td>
                            <td>{{ actor.owner }}</td>
                            <td>{{ actor.status }}</td>
                            <td>{{ actor.messages }}</td>
                            <td>{{ actor.executions }}</td>
                            <td>{{ actor.runtime }}</td>
                            <td>{{ actor.createTime }}</td>
                            <td>{{ actor.lastUpdateTime }}</td>
                            <td>{{ actor.worker.id }}</td>
                            <td>{{ actor.worker.lastExecutionTime }}</td>
                            <td>{{ actor.worker.lastHealthCheckTime }}</td>
                            <td>{{ actor.worker.status }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% endif %}
{% endblock %}